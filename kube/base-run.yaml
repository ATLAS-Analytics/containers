apiVersion: v1
kind: Pod
metadata:
  name: base-pod
spec:
  containers:
  - name: analytics-svc-container
    image: atlasanalyticsservice/containers:latest
    command: ["sleep"]
    args: ["36500000"]
    env:
      - name: MQ_USER
        valueFrom:
          secretKeyRef:
            name: mq-auth-fts
            key: mq_user
      - name: MQ_PASS
        valueFrom:
          secretKeyRef:
            name: mq-auth-fts
            key: mq_pass
      - name: MQ_HOST
        valueFrom:
          secretKeyRef:
            name: mq-auth-fts
            key: mq_host
      - name: JOB_ORACLE_USER
        valueFrom:
          secretKeyRef:
            name: oracle-secret
            key: job_oracle_user
      - name: JOB_ORACLE_PASS
        valueFrom:
          secretKeyRef:
            name: oracle-secret
            key: job_oracle_pass
      - name: JOB_ORACLE_CONNECTION_STRING
        valueFrom:
          secretKeyRef:
            name: oracle-secret
            key: job_oracle_connection_string
    volumeMounts:
    - name: keytab-volume
      mountPath: "/tmp/keytab"
      readOnly: true
  volumes:
  - name: keytab-volume
    secret:
      secretName: analytcssvc-keytab
  restartPolicy: Never